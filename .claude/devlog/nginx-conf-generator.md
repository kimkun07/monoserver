# Task: Nginx Config Generator

## κ°μ”

`compose.yaml` νμΌμ μ„λΉ„μ¤ μ •μλ¥Ό μ½μ–΄μ„ κ° μ„λΉ„μ¤μ— λ€ν• Nginx λ¦¬λ²„μ¤ ν”„λ΅μ‹ μ„¤μ • νμΌ(`.conf`)μ„ μλ™μΌλ΅ μƒμ„±ν•λ” TypeScript μ¤ν¬λ¦½νΈλ¥Ό μ‘μ„±ν•©λ‹λ‹¤.

## λ©ν‘

- `compose.yaml` νμ‹±ν•μ—¬ μ„λΉ„μ¤ λ©λ΅ μ¶”μ¶
- κ° μ„λΉ„μ¤μ— λ€ν•΄ `./nginx/conf.d/{service-name}.conf` μƒμ„±
- μ„λΉ„μ¤λ³„ subdomain κΈ°λ° ν”„λ΅μ‹ μ„¤μ • μƒμ„±
- `monoserver-nginx-main` μ„λΉ„μ¤λ” μ μ™Έ (ν”„λ΅μ‹ μμ²΄μ΄λ―€λ΅)

## μ”κµ¬μ‚¬ν•­

### μ…λ ¥
- **νμΌ**: `compose.yaml` (ν”„λ΅μ νΈ λ£¨νΈ)
- **ν•μ‹**: Docker Compose v3+ YAML ν•μ‹
- **μ„λΉ„μ¤ κµ¬μ΅°**:
  ```yaml
  services:
    service-name:
      image: ...
      x-monoserver-port: "ν¬νΈλ²νΈ"  # μ›ΉλΈλΌμ°μ €μ— ν¬νΈ μ—†μ΄ μ ‘μ†ν–μ„ κ²½μ°μ—λ§ μ—°κ²°ν•  ν¬νΈ λ²νΈ
  ```

### μ¶λ ¥
- **λ””λ ‰ν† λ¦¬**: `./nginx/conf.d/`
- **νμΌλ…**: `{service-name}.conf`
- **ν•μ‹**:
  ```nginx
  server {
    listen       80;
    server_name  {service-name}.localhost;

    location / {
      proxy_pass http://{service-name}:{port}/;
    }
  }
  ```

### μ¤ν¬λ¦½νΈ μ„μΉ
- `scripts/generate-nginx-configs.ts` (μƒλ΅ μƒμ„±)

## TODO
- [x] YAML νμ„ λΌμ΄λΈλ¬λ¦¬ μ„¤μΉ (`js-yaml` λλ” λ‚΄μ¥ μ‚¬μ©)
- [x] `compose.yaml` μ½κΈ° λ° νμ‹±
- [x] μ„λΉ„μ¤ λ©λ΅ μ¶”μ¶ (monoserver-nginx-main μ μ™Έ)
- [x] κ° μ„λΉ„μ¤μ— λ€ν• `.conf` ν…ν”λ¦Ώ μƒμ„±
- [x] `./nginx/conf.d/` λ””λ ‰ν† λ¦¬ μ΄κΈ°ν™” (κΈ°μ΅΄ νμΌ μ‚­μ )
- [x] μƒμ„±λ `.conf` νμΌ μ €μ¥
- [x] λ¬Έμ„ν™” (README.md μ—…λ°μ΄νΈ)

## κΈ°μ  μ¤νƒ

- **μ–Έμ–΄**: TypeScript
- **λ°νƒ€μ„**: Node.js / tsx

## ν΄λ΅λ“ μ½”λ“ μΌκΈ°

### 2025-12-28 - v3.2: Docker bind mountλ¥Ό λ…μ‹μ  ν•μ‹μΌλ΅ λ³€κ²½

**μƒνƒ**: β… μ™„λ£ (v3.2)

**μ»¤λ°‹**: 8a25fad

**μ§„ν–‰ λ‚΄μ©**:
- **compose.yaml λ³Όλ¥¨ λ§μ΄νΈ ν•μ‹ λ³€κ²½**: μ§§μ€ ν•μ‹ β†’ λ…μ‹μ  bind mount ν•μ‹
  - μ΄μ „: `- ./nginx/nginx.conf:/etc/nginx/nginx.conf:ro`
  - λ³€κ²½: `- type: bind, source: ./nginx/nginx.conf, target: /etc/nginx/nginx.conf, read_only: true`
- **κ°€λ…μ„± ν–¥μƒ**: λ…μ‹μ  ν•μ‹μΌλ΅ mount νƒ€μ…κ³Ό μµμ…μ΄ λ…ν™•ν•΄μ§
- **ν…μ¤νΈ κ²€μ¦**: generate β†’ reload β†’ μ¦‰μ‹ λ°μ ν™•μΈ μ™„λ£

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 5/5 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… Docker λ³Όλ¥¨ λ§μ΄νΈ μ •μƒ μ‘λ™

**λ‹¤μ λ‹¨κ³„**: μ¶”κ°€ κ°μ„ μ‚¬ν•­ μ—†μ, μ•μ •μ  μ΄μ

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v3.2 μ™„μ„±**: compose.yamlμ—μ„ λ…μ‹μ  bind mount ν•μ‹ μ‚¬μ©
> - **ν…μ¤νΈ ν†µκ³Ό**: λ¨λ“  κΈ°λ¥ μ •μƒ μ‘λ™

### 2025-12-28 - v3.1: root pathμ— nginx κΈ°λ³Έ νμ΄μ§€ μ¶”κ°€ λ° Docker bind mount λ¬Έμ  μμ •

**μƒνƒ**: β… μ™„λ£ (v3.1)

**μ»¤λ°‹**: 1310b63

**μ§„ν–‰ λ‚΄μ©**:
- **root path(/) μ¶”κ°€**: nginx welcome page μ κ³µν•λ„λ΅ default location block μ¶”κ°€
  - μ„λΉ„μ¤λ³„ path (/hello/, /whoami/)κ°€ μ•„λ‹ root pathλ΅ μ ‘μ† μ‹ κΈ°λ³Έ νμ΄μ§€ ν‘μ‹
- **Docker bind mount νΈν™μ„± κ°μ„ **: rm() μ κ±°ν•μ—¬ νμΌ inode μ μ§€
  - κΈ°μ΅΄ λ¬Έμ : νμΌ μ‚­μ  ν›„ μ¬μƒμ„± β†’ μƒ inode μƒμ„± β†’ μ»¨ν…μ΄λ„λ” μ‚­μ λ νμΌ μ°Έμ΅°
  - ν•΄κ²°: writeFileλ΅ λ®μ–΄μ“°κΈ°λ§ β†’ inode μ μ§€ β†’ `nginx -s reload`λ§μΌλ΅ μ¦‰μ‹ λ°μ
- **μ½”λ“ λ³€κ²½**:
  - `src/index.ts:141-144`: rm() νΈμ¶ μ κ±°, μ£Όμ„μΌλ΅ μ΄μ  μ„¤λ…
  - `generateServerConfig()`: default location block μ¶”κ°€
- **λ¨λ“  ν…μ¤νΈ μΌ€μ΄μ¤ μ—…λ°μ΄νΈ**: expected νμΌμ— root location μ¶”κ°€

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 5/5 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… Docker bind mountμ—μ„ nginx reload μ¦‰μ‹ λ°μ ν™•μΈ

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **UX ν–¥μƒ**: root path μ ‘μ† μ‹ 404 λ€μ‹  welcome page
2. **μ΄μ νΈμμ„±**: νμΌ λ³€κ²½ ν›„ μ»¨ν…μ΄λ„ μ¬μ‹μ‘ λ¶ν•„μ”
3. **μ•μ •μ„±**: inode μ μ§€λ΅ bind mount μ•μ •μ„± ν–¥μƒ

**λ‹¤μ λ‹¨κ³„**: μ¶”κ°€ ν…μ¤νΈ λ° λ°°ν¬

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v3.1 μ™„μ„±**: root path κΈ°λ³Έ νμ΄μ§€ μ¶”κ°€ λ° bind mount λ¬Έμ  ν•΄κ²°
> - **μ¤‘μ”**: routes.conf νμΌμ„ μ λ€ μ‚­μ ν•μ§€ λ§ κ²ƒ (inode μ μ§€ ν•„μ)
> - **nginx reload**: νμΌ λ³€κ²½ ν›„ reloadλ§μΌλ΅ μ¦‰μ‹ λ°μλ¨

### 2025-12-28 - v3.0: path κΈ°λ° λΌμ°ν…μΌλ΅ λ³€κ²½ λ° κµ¬μ΅° λ‹¨μν™”

**μƒνƒ**: β… μ™„λ£ (v3.0)

**μ»¤λ°‹**: fb16f3b

**μ§„ν–‰ λ‚΄μ©**:
- **Subdomain β†’ Path κΈ°λ° λΌμ°ν…μΌλ΅ μ™„μ „ μ „ν™**
  - μ΄μ „: `hello.localhost` β†’ `hello:5678`
  - μ΄ν›„: `/hello/` β†’ `hello:5678` (path prefix μλ™ μ κ±°)
- **νμΌ κµ¬μ΅° λ€ν­ λ‹¨μν™”**:
  - μ΄μ „: `nginx/conf.d/hello.conf`, `nginx/conf.d/whoami.conf` (μ„λΉ„μ¤λ‹Ή 1κ° νμΌ)
  - μ΄ν›„: `nginx/routes.conf` (λ¨λ“  μ„λΉ„μ¤λ¥Ό λ‹¨μΌ νμΌλ΅ ν†µν•©)
- **conf.d λ””λ ‰ν† λ¦¬ μ™„μ „ μ κ±°**: nginx/routes.confλ΅ λ‹¨μν™”
- **x-monoserver-listen-ports μ„¤μ • μ κ±°**: path κΈ°λ°μ—μ„ λ¶ν•„μ”
- **ν…μ¤νΈ μΌ€μ΄μ¤ μ •λ¦¬**:
  - test/03-with-listen-ports μ‚­μ  (listen portsλ” λ” μ΄μƒ μ‚¬μ© μ• ν•¨)
  - 5κ° ν…μ¤νΈ μΌ€μ΄μ¤λ΅ μ¶•μ† (6κ° β†’ 5κ°)
- **nginx.conf κµ¬μ΅° λ³€κ²½**:
  - `include /etc/nginx/conf.d/*.conf` β†’ `include /etc/nginx/routes.conf`
- **compose.yaml λ³Όλ¥¨ λ§μ΄νΈ μμ •**:
  - `./nginx/conf.d:/etc/nginx/conf.d:ro` μ κ±°
  - `./nginx/routes.conf:/etc/nginx/routes.conf:ro` μ¶”κ°€
- **deploy.yml μμ •**: nginx μ¬μ‹μ‘ λ΅μ§ μ—…λ°μ΄νΈ

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 5/5 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… μ‹¤μ  λ°°ν¬ ν™κ²½μ—μ„ path κΈ°λ° λΌμ°ν… ν™•μΈ

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **λ‹¨μν™”**: μ„λΉ„μ¤λ‹Ή 1κ° νμΌ β†’ λ¨λ“  μ„λΉ„μ¤κ°€ 1κ° νμΌ
2. **κ΄€λ¦¬ μ©μ΄**: routes.conf ν•λ‚λ§ κ΄€λ¦¬ν•λ©΄ λ¨
3. **DNS λ¶ν•„μ”**: localhost ν•λ‚λ΅ λ¨λ“  μ„λΉ„μ¤ μ ‘κ·Ό κ°€λ¥
4. **λ°°ν¬ νΈμμ„±**: IP μ£Όμ†λ§μΌλ΅ λ°”λ΅ μ ‘κ·Ό κ°€λ¥ (subdomain μ„¤μ • λ¶ν•„μ”)

**Breaking Changes**:
- κΈ°μ΅΄ subdomain κΈ°λ° μ ‘κ·Ό λ¶κ°€λ¥ (hello.localhost β†’ /hello/)
- x-monoserver-listen-ports ν•„λ“ μ κ±°

**λ‹¤μ λ‹¨κ³„**: μ‹¤μ  λ°°ν¬ ν…μ¤νΈ λ° λ¬Έμ„ μ—…λ°μ΄νΈ

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v3.0 μ™„μ„±**: subdomain β†’ path κΈ°λ° λΌμ°ν…μΌλ΅ μ™„μ „ μ „ν™
> - **νμΌ κµ¬μ΅°**: nginx/routes.conf λ‹¨μΌ νμΌ μ‚¬μ©
> - **ν…μ¤νΈ 5κ°**: listen-ports κ΄€λ ¨ ν…μ¤νΈ μ κ±°λ¨
> - **Breaking Change**: κΈ°μ΅΄ subdomain λ°©μ‹ μ‚¬μ© λ¶κ°€

### 2025-12-28 - v2.5: nginx μ„λΉ„μ¤λ… ν•„μ κ²€μ¦

**μƒνƒ**: β… μ™„λ£ (v2.5)

**μ§„ν–‰ λ‚΄μ©**:
- **ν•„μ κ²€μ¦ μ¶”κ°€**: compose.yamlμ— `monoserver-nginx-main` μ„λΉ„μ¤κ°€ λ°λ“μ‹ μ΅΄μ¬ν•΄μ•Ό ν•¨
- **μ—λ¬ λ©”μ‹μ§€**: μ„λΉ„μ¤κ°€ μ—†μΌλ©΄ λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€ μ¶λ ¥
  - "Required nginx service "monoserver-nginx-main" not found in compose.yaml."
  - "The nginx service must be named exactly "monoserver-nginx-main" to work with the deployment system."
- **μ½”λ“ λ³€κ²½**:
  - `src/index.ts:127-133`: nginx μ„λΉ„μ¤ μ΅΄μ¬ κ²€μ¦ λ΅μ§ μ¶”κ°€
  - compose.yaml νμ‹± ν›„ μ¦‰μ‹ κ²€μ¦
- **ν…μ¤νΈ μΌ€μ΄μ¤ μ¶”κ°€**:
  - `test/06-wrong-nginx-service/`: nginx μ„λΉ„μ¤ μ΄λ¦„μ΄ λ‹¤λ¥Ό λ• μ‹¤ν¨ ν…μ¤νΈ
  - `test.json`: shouldFail: true, expectedError μ„¤μ •
  - `compose.yaml`: my-custom-nginx μ‚¬μ© (μλ»λ μ΄λ¦„)
- **λ¬Έμ„ μ—…λ°μ΄νΈ**:
  - `README.md`: "Service Validation" μ„Ήμ… μ¶”κ°€
  - How It Works μ„Ήμ…μ— κ²€μ¦ λ‹¨κ³„ μ¶”κ°€
  - ν…μ¤νΈ μΌ€μ΄μ¤ 5κ° β†’ 6κ°λ΅ μ—…λ°μ΄νΈ

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 6/6 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… 06-wrong-nginx-service: nginx μ„λΉ„μ¤λ… κ²€μ¦ μ‹¤ν¨ ν…μ¤νΈ ν†µκ³Ό

**λ³€κ²½ μ΄μ **:
- deploy.ymlμ΄ `monoserver-nginx-main` ν•λ“μ½”λ”© μ‚¬μ©
- μλ»λ μ΄λ¦„ μ‚¬μ© μ‹ λ°°ν¬ μ‹¤ν¨ λ°μƒ
- μ΅°κΈ° κ²€μ¦μΌλ΅ λ°°ν¬ μ „ μ¤λ¥ λ°κ²¬
- λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€λ΅ μ‚¬μ©μ κ°€μ΄λ“

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **μ΅°κΈ° μ¤λ¥ κ°μ§€**: compose.yaml νμ‹± μ§ν›„ κ²€μ¦
2. **λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€**: λ¬΄μ—‡μ΄ μλ»λμ—λ”μ§€ λ…ν™•ν μ•λ‚΄
3. **λ°°ν¬ μ•μ •μ„±**: μλ»λ μ„¤μ •μΌλ΅ μΈν• λ°°ν¬ μ‹¤ν¨ λ°©μ§€
4. **ν…μ¤νΈ μ»¤λ²„λ¦¬μ§€**: μ¤λ¥ μΌ€μ΄μ¤κΉμ§€ ν…μ¤νΈ ν™•μ¥

**λ‹¤μ λ‹¨κ³„**: μ‹¤μ  λ°°ν¬ ν™κ²½ ν…μ¤νΈ

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.5 μ™„μ„±**: nginx μ„λΉ„μ¤λ… ν•„μ κ²€μ¦ μ¶”κ°€
> - **monoserver-nginx-main ν•„μ**: compose.yamlμ— λ°λ“μ‹ μ΅΄μ¬ν•΄μ•Ό ν•¨
> - **ν…μ¤νΈ 6κ°**: μ¤λ¥ μΌ€μ΄μ¤ ν¬ν•¨ν•μ—¬ μ™„μ „ν• κ²€μ¦
> - λ‹¤μμ€ μ‹¤μ  λ°°ν¬ ν™κ²½ ν…μ¤νΈλ΅ μ§„ν–‰ν•λ©΄ λ©λ‹λ‹¤

### 2025-12-28 - v2.4: nginx μ„λΉ„μ¤λ… ν•λ“μ½”λ”©

**μƒνƒ**: β… μ™„λ£ (v2.4)

**μ§„ν–‰ λ‚΄μ©**:
- **nginxServiceName νλΌλ―Έν„° μ κ±°**: CLI νλΌλ―Έν„°μ—μ„ `--nginx-service` μ™„μ „ μ κ±°
- **ν•λ“μ½”λ”© μ μ©**: `monoserver-nginx-main` μƒμλ΅ κ³ μ •
  - deploy.ymlμ—μ„ ν•λ“μ½”λ”©λ μ΄λ¦„ μ‚¬μ©ν•λ―€λ΅ μΌκ΄€μ„± ν™•λ³΄
  - λ³€κ²½ λ¶κ°€λ¥ν• κ°’μ΄λ―€λ΅ νλΌλ―Έν„°λ΅ λ°›μ„ ν•„μ” μ—†μ
- **μ½”λ“ λ³€κ²½**:
  - `src/index.ts:20-25`: GeneratorOptions μΈν„°νμ΄μ¤μ—μ„ nginxServiceName μ κ±°, NGINX_SERVICE_NAME μƒμ μ¶”κ°€
  - `src/index.ts:31-65`: parseArgs()μ—μ„ --nginx-service νλΌλ―Έν„° μ²λ¦¬ μ κ±°
  - `src/index.ts:110,144`: options.nginxServiceName β†’ NGINX_SERVICE_NAME μƒμ μ‚¬μ©
  - `src/test-runner.ts:8-16`: TestConfig μΈν„°νμ΄μ¤μ—μ„ nginxService ν•„λ“ μ κ±°
  - `src/test-runner.ts:44-54`: runGenerator()μ—μ„ nginxService νλΌλ―Έν„° μ²λ¦¬ μ κ±°
- **ν…μ¤νΈ μΌ€μ΄μ¤ μ—…λ°μ΄νΈ**:
  - `test/01-missing-params/test.json`: nginxService νλΌλ―Έν„° μ κ±°
  - `test/02-no-listen-ports/test.json`: nginxService νλΌλ―Έν„° μ κ±°
  - `test/03-with-listen-ports/test.json`: nginxService νλΌλ―Έν„° μ κ±°
  - `test/04-no-default-port/test.json`: nginxService νλΌλ―Έν„° μ κ±°
  - `test/05-with-default-port/test.json`: nginxService νλΌλ―Έν„° μ κ±°
  - `test/06-rename-main-service/`: λ” μ΄μƒ μ ν¨ν•μ§€ μ•μ•„ μ „μ²΄ λ””λ ‰ν† λ¦¬ μ‚­μ 
- **λ¬Έμ„ μ—…λ°μ΄νΈ**:
  - `package.json:9`: npm run generate μ¤ν¬λ¦½νΈμ—μ„ --nginx-service μ κ±°
  - `README.md`: μ „μ²΄ λ¬Έμ„μ—μ„ --nginx-service κ΄€λ ¨ λ‚΄μ© μ κ±° λ° ν•λ“μ½”λ”© μ‚¬μ‹¤ λ…μ‹
    - Features μ„Ήμ…μ— "Fixed nginx service name" μ¶”κ°€
    - CLI μ‚¬μ©λ²•μ—μ„ --nginx-service νλΌλ―Έν„° μ κ±°
    - ν…μ¤νΈ μΌ€μ΄μ¤ 6κ° β†’ 5κ°λ΅ λ³€κ²½
    - λ¨λ“  μμ‹ μ½”λ“μ—μ„ --nginx-service μ κ±°

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 5/5 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… 01-missing-params: composePath λ„λ½ μ‹ μ‹¤ν¨
- β… 02-no-listen-ports: κΈ°λ³Έ ν¬νΈ [80] μ‚¬μ©
- β… 03-with-listen-ports: λ‹¤μ¤‘ ν¬νΈ μ„¤μ •
- β… 04-no-default-port: $server_port λ™μ  λΌμ°ν…
- β… 05-with-default-port: κ³ μ • ν¬νΈ μ‚¬μ©

**λ³€κ²½ μ΄μ **:
- GitHub Actions deploy.ymlμ—μ„ `monoserver-nginx-main` ν•λ“μ½”λ”© μ‚¬μ©
- compose.yamlμ nginx μ„λΉ„μ¤ μ΄λ¦„ λ³€κ²½ λ¶κ°€λ¥ (λ³€κ²½ μ‹ λ°°ν¬ μ‹¤ν¨)
- μ„¤μ • κ°€λ¥ν•λ„λ΅ λ§λ“  κ²ƒμ΄ μλ»λ μ„¤κ³„
- ν•­μƒ λ™μΌν• κ°’μ„ μ‚¬μ©ν•λ―€λ΅ νλΌλ―Έν„°κ°€ μ•„λ‹ μƒμλ΅ κ΄€λ¦¬

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **λ‹¨μν™”**: λ¶ν•„μ”ν• CLI νλΌλ―Έν„° μ κ±°
2. **μΌκ΄€μ„±**: deploy.ymlκ³Ό μ™„μ „ν μΌμΉν•λ” λ™μ‘ λ³΄μ¥
3. **λ…ν™•μ„±**: nginx μ„λΉ„μ¤ μ΄λ¦„μ€ ν•­μƒ monoserver-nginx-main
4. **μ•μ „μ„±**: μ‹¤μλ΅ λ‹¤λ¥Έ μ΄λ¦„ μ‚¬μ© λ°©μ§€

**λ‹¤μ λ‹¨κ³„**: GitHub Actions μ›ν¬ν”λ΅μ° λ°°ν¬ ν…μ¤νΈ (λ³€κ²½ μ—†μ)

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.4 μ™„μ„±**: nginx μ„λΉ„μ¤λ… ν•λ“μ½”λ”© μ μ©
> - **νλΌλ―Έν„° 2κ°λ΅ μ¶•μ†**: --compose-path, --output-dirλ§ μ‚¬μ©
> - **monoserver-nginx-main κ³ μ •**: μ λ€ λ³€κ²½ν•λ©΄ μ• λ¨ (deploy.yml μμ΅΄μ„±)
> - **ν…μ¤νΈ 5κ°**: 06-rename-main-service μ‚­μ λ¨
> - λ‹¤μμ€ μ‹¤μ  λ°°ν¬ ν™κ²½ ν…μ¤νΈλ΅ μ§„ν–‰ν•λ©΄ λ©λ‹λ‹¤

### 2025-12-27 - v2.3: Docker DNS Resolver λ° λ™μ  DNS ν•΄μ„

**μƒνƒ**: β… μ™„λ£ (v2.3)

**μ§„ν–‰ λ‚΄μ©**:
- **Docker DNS resolver μ¶”κ°€**: μƒμ„±λ λ¨λ“  nginx configμ— `resolver 127.0.0.11 valid=30s;` μ¶”κ°€
  - 127.0.0.11μ€ Dockerμ λ‚΄λ¶€ DNS μ„λ²„ μ£Όμ†
  - μ»¨ν…μ΄λ„ νΈμ¤νΈλ…μ„ λ™μ μΌλ΅ ν•΄μ„ν•  μ μλ„λ΅ μ„¤μ •
- **λ™μ  DNS ν•΄μ„ κµ¬ν„**: proxy_passμ— λ³€μ μ‚¬μ©
  - `set $upstream_{servicename} {servicename};` λ³€μ μ„ μ–Έ
  - `proxy_pass http://$upstream_{servicename}:{port}/;` ν•μ‹μΌλ΅ λ³€κ²½
  - λ³€μ μ΄λ¦„μ€ ν•μ΄ν”μ„ μ–Έλ”μ¤μ½”μ–΄λ΅ λ³€ν™ (nginx λ³€μλ… κ·μΉ™)
- **μ‹μ‘ μμ„ λ¬Έμ  ν•΄κ²°**:
  - μ΄μ „: nginx μ‹μ‘ μ‹ upstream DNS ν•΄μ„ μ‹¤ν¨ν•λ©΄ μ‹μ‘ μ‹¤ν¨
  - ν„μ¬: μ”μ²­ μ‹μ μ— DNS ν•΄μ„ν•λ―€λ΅ μ‹μ‘ μμ„ λ¬΄κ΄€
- **ν…μ¤νΈ μΌ€μ΄μ¤ μ—…λ°μ΄νΈ**: λ¨λ“  expected νμΌμ— resolver λ° λ³€μ μ¶”κ°€
  - test/02-no-listen-ports/expected/hello.conf
  - test/03-with-listen-ports/expected/{admin,hello}.conf
  - test/04-no-default-port/expected/hello.conf
  - test/05-with-default-port/expected/hello.conf
  - test/06-rename-main-service/expected/hello.conf

**λ¬Έμ  ν•΄κ²°**:
- **μ›μΈ**: nginxκ°€ μ‹μ‘ν•  λ• upstream νΈμ¤νΈλ¥Ό μ¦‰μ‹ ν•΄μ„ν•λ ¤ μ‹λ„
  - hello μ»¨ν…μ΄λ„κ°€ μ•„μ§ DNSμ— λ“±λ΅λμ§€ μ•μΌλ©΄ "host not found" μ—λ¬
  - nginx μ»¨ν…μ΄λ„κ°€ μ‹μ‘ μ‹¤ν¨λ΅ μΆ…λ£
- **ν•΄κ²°μ±…**:
  1. Docker DNS resolver μ„¤μ •μΌλ΅ λ™μ  DNS μ΅°ν ν™μ„±ν™”
  2. proxy_passμ— λ³€μ μ‚¬μ©μΌλ΅ μ‹μ‘ μ‹μ μ΄ μ•„λ‹ μ”μ²­ μ‹μ μ— DNS ν•΄μ„
  3. compose.yamlμ— depends_on μ¶”κ°€ (μ‹μ‘ μμ„ λ³΄μ¥)

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 6/6 ν…μ¤νΈ μΌ€μ΄μ¤ ν†µκ³Ό
- β… docker compose down && up ν…μ¤νΈ μ„±κ³µ (μ‹μ‘ μμ„ λ¬΄κ΄€ν•κ² λ™μ‘)
- β… nginx "host not found" μ—λ¬ ν•΄κ²°
- β… ν¬νΈ 80 ν”„λ΅μ‹ μ •μƒ μ‘λ™

**μ½”λ“ λ³€κ²½**:
- `src/index.ts:176-211`: generateNginxConfig() ν•¨μ ν…ν”λ¦Ώ μμ •
  - resolver λ””λ ‰ν‹°λΈ μ¶”κ°€
  - λ³€μ κΈ°λ° proxy_pass κµ¬ν„
  - μ£Όμ„μΌλ΅ λ™μ‘ μ›λ¦¬ μ„¤λ…

**λ‹¤μ λ‹¨κ³„**: GitHub Action μ„¤μ • (λ³€κ²½ μ—†μ)

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.3 μ™„μ„±**: Docker DNS resolver λ° λ™μ  DNS ν•΄μ„ μ¶”κ°€
> - **λ¨λ“  μ„λΉ„μ¤μ— μλ™ μ μ©**: μƒλ΅μ΄ μ„λΉ„μ¤λ¥Ό μ¶”κ°€ν•΄λ„ DNS λ¬Έμ  μ—†μ
> - **μ»¨ν…μ΄λ„ μ‹μ‘ μμ„ λ¬΄κ΄€**: depends_onκ³Ό λ™μ  DNSλ΅ μ•μ •μ  μ‹μ‘ λ³΄μ¥
> - **ν…μ¤νΈ κ²€μ¦ μ™„λ£**: λ¨λ“  ν…μ¤νΈ μΌ€μ΄μ¤κ°€ μƒ ν…ν”λ¦ΏμΌλ΅ μ—…λ°μ΄νΈλ¨

### 2025-12-26 - v2.2: λ°μ΄ν„° κΈ°λ° ν…μ¤νΈ κµ¬μ΅° κ°νΈ

**μƒνƒ**: β… μ™„λ£ (v2.2)

**μ§„ν–‰ λ‚΄μ©**:
- **ν…μ¤νΈ κµ¬μ΅° μ™„μ „ κ°νΈ**: μ½”λ“ κΈ°λ° β†’ λ°μ΄ν„° κΈ°λ° ν…μ¤νΈλ΅ μ „ν™
- **μƒλ΅μ΄ ν…μ¤νΈ λ””λ ‰ν† λ¦¬**: `test/` κµ¬μ΅°λ΅ 6κ° ν…μ¤νΈ μΌ€μ΄μ¤ μ¬κµ¬μ„±
  1. `01-missing-params`: ν•„μ νλΌλ―Έν„° λ„λ½ μ‹ μ‹¤ν¨
  2. `02-no-listen-ports`: listen ports κΈ°λ³Έκ°’ [80] ν…μ¤νΈ
  3. `03-with-listen-ports`: μ—¬λ¬ listen ports ν…μ¤νΈ
  4. `04-no-default-port`: $server_port λ™μ  λΌμ°ν…
  5. `05-with-default-port`: κ³ μ • ν¬νΈ μ‚¬μ©
  6. `06-rename-main-service`: μ»¤μ¤ν…€ nginx μ„λΉ„μ¤λ… μ¤ν‚µ
- **test.json λ©”νƒ€λ°μ΄ν„°**: κ° ν…μ¤νΈ μΌ€μ΄μ¤μ μ„¤μ •μ„ JSONμΌλ΅ μ •μ
  - `shouldFail`: μ—λ¬ μμƒ μ—¬λ¶€λ¥Ό λ°μ΄ν„°λ΅ νλ³„
  - `expectedError`: μμƒ μ—λ¬ λ©”μ‹μ§€ κ²€μ¦
  - `params`: CLI νλΌλ―Έν„° λ…μ‹
- **test-runner.ts μ¬μ‘μ„±**: μλ™μΌλ΅ ν…μ¤νΈ μΌ€μ΄μ¤ λ””λ ‰ν† λ¦¬ μν λ° κ²€μ¦
- **μλ™ cleanup**: κ° ν…μ¤νΈ μ‹¤ν–‰ μ „ κΈ°μ΅΄ output νμΌ μλ™ μ‚­μ 
- **npm run test:clean**: λ¨λ“  ν…μ¤νΈ output μλ™ μ‚­μ  μ¤ν¬λ¦½νΈ (`test/*/nginx/conf.d`)
- **νμΌ μ •λ¦¬**: κΈ°μ΅΄ κ°λ³„ test-*.ts νμΌ μ‚­μ , test-utils.ts μ‚­μ 
- **κΉ”λ”ν• λ””λ ‰ν† λ¦¬ κµ¬μ΅°**: κΈ°μ΅΄ λ³µμ΅ν• κµ¬μ΅°λ¥Ό `test/`λ΅ λ‹¨μν™”

**ν…μ¤νΈ κ²°κ³Ό** (6κ° ν…μ¤νΈ μΌ€μ΄μ¤):
- β… λ¨λ“  ν…μ¤νΈ ν†µκ³Ό
- β… μ—λ¬ μΌ€μ΄μ¤λ„ λ°μ΄ν„° κΈ°λ°μΌλ΅ κ²€μ¦

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **λ°μ΄ν„° κΈ°λ° ν…μ¤νΈ**: μƒ ν…μ¤νΈ μ¶”κ°€ μ‹ μ½”λ“ μμ • λ¶ν•„μ”
2. **λ…ν™•ν• κµ¬μ΅°**: κ° ν…μ¤νΈ μΌ€μ΄μ¤κ°€ λ…λ¦½μ μΈ λ””λ ‰ν† λ¦¬
3. **λ©”νƒ€λ°μ΄ν„° λ¶„λ¦¬**: test.jsonμΌλ΅ ν…μ¤νΈ μ„¤μ • λ…μ‹
4. **μλ™ λ°κ²¬**: test-runnerκ°€ test/ λ””λ ‰ν† λ¦¬λ¥Ό μλ™ μν
5. **ν™•μ¥ μ©μ΄**: μƒ μΌ€μ΄μ¤λ” λ””λ ‰ν† λ¦¬λ§ μ¶”κ°€ν•λ©΄ λ¨
6. **μλ™ cleanup**: κ° ν…μ¤νΈ μ „ κΈ°μ΅΄ output μ‚­μ λ΅ κΉ¨λ—ν• μƒνƒ λ³΄μ¥
7. **output λ³΄μ΅΄**: ν…μ¤νΈ ν›„ μƒμ„± νμΌ μ μ§€λ΅ μλ™ κ²€μ¦ κ°€λ¥

**ν”„λ΅μ νΈ κµ¬μ΅°**:
```
nginx-config-generator/
β”β”€β”€ src/
β”‚   β”β”€β”€ index.ts
β”‚   β””β”€β”€ test-runner.ts
β”β”€β”€ test/
β”‚   β”β”€β”€ 01-missing-params/
β”‚   β”β”€β”€ 02-no-listen-ports/
β”‚   β”β”€β”€ 03-with-listen-ports/
β”‚   β”β”€β”€ 04-no-default-port/
β”‚   β”β”€β”€ 05-with-default-port/
β”‚   β””β”€β”€ 06-rename-main-service/
```

**ν…μ¤νΈ μ‹¤ν–‰**:
```bash
npm test              # μ „μ²΄ ν…μ¤νΈ μλ™ μ‹¤ν–‰
npm run test:clean    # ν…μ¤νΈ output νμΌ μ „λ¶€ μ‚­μ  (test/*/nginx/conf.d)
```

**λ‹¤μ λ‹¨κ³„**: β… μ™„λ£ β†’ GitHub Action μ„¤μ •μΌλ΅ μ§„ν–‰

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.2 μ™„μ„±**: λ°μ΄ν„° κΈ°λ° ν…μ¤νΈ κµ¬μ΅°λ΅ μ™„μ „ κ°νΈ
> - **ν…μ¤νΈ μ¶”κ°€ λ°©λ²•**: `test/` μ— μƒ λ””λ ‰ν† λ¦¬ μƒμ„±, test.json + compose.yaml + expected/ κµ¬μ„±
> - **shouldFail ν™μ©**: μ—λ¬ μΌ€μ΄μ¤λ” test.jsonμ—μ„ shouldFail: trueλ΅ μ„¤μ •
> - **μλ™ λ°κ²¬**: test-runnerκ°€ μ•μ•„μ„ λ¨λ“  μΌ€μ΄μ¤ μ‹¤ν–‰
> - λ‹¤μμ€ GitHub Action μ„¤μ •μΌλ΅ μ§„ν–‰ν•λ©΄ λ©λ‹λ‹¤

### 2025-12-26 - v2.1: ν•„μ νλΌλ―Έν„° λ° κ°•ν™”λ ν…μ¤νΈ μ¤μ„νΈ

**μƒνƒ**: β… μ™„λ£ (v2.1)

**μ§„ν–‰ λ‚΄μ©**:
- **ν•„μ νλΌλ―Έν„° κ°•μ **: λ¨λ“  CLI νλΌλ―Έν„° κΈ°λ³Έκ°’ μ κ±°, λ…μ‹μ  μ κ³µ ν•„μ
- **TypeScript μ¤λ¥ μμ •**: parseArgs λ°ν™ νƒ€μ… non-null assertion μ¶”κ°€
- **κ°•ν™”λ ν…μ¤νΈ μ¤μ„νΈ**: 4κ°μ λ…λ¦½μ μΈ ν…μ¤νΈ μ¤μ„νΈλ΅ λ¶„λ¦¬
  1. CLI νλΌλ―Έν„° κ²€μ¦ (test-cli-params.ts)
  2. Listen ports λ°°μ—΄ ν…μ¤νΈ (test-listen-ports.ts)
  3. Default port ν…μ¤νΈ (test-default-port.ts)
  4. μ»¤μ¤ν…€ nginx μ„λΉ„μ¤λ… ν…μ¤νΈ (test-nginx-service-name.ts)
- **ν…μ¤νΈ μ ν‹Έλ¦¬ν‹°**: κ³µν†µ ν…μ¤νΈ ν•¨μ λ¶„λ¦¬ (test-utils.ts)
- **ν†µν•© test runner**: λ¨λ“  ν…μ¤νΈλ¥Ό μμ°¨ μ‹¤ν–‰ν•κ³  κ²°κ³Ό μ”μ•½

**ν…μ¤νΈ κ²°κ³Ό** (12κ° ν…μ¤νΈ μΌ€μ΄μ¤):
- β… CLI νλΌλ―Έν„° λ„λ½ μ‹ μ‹¤ν¨ (4κ° μΌ€μ΄μ¤)
- β… Listen ports κΈ°λ³Έκ°’ [80] ν…μ¤νΈ
- β… Listen ports λ°°μ—΄ [80, 8080, 9000] ν…μ¤νΈ
- β… Default port μ—†μ„ λ• $server_port μ‚¬μ©
- β… Default port μμ„ λ• κ³ μ • ν¬νΈ μ‚¬μ©
- β… μ»¤μ¤ν…€ nginx μ„λΉ„μ¤λ… μ¤ν‚µ ν…μ¤νΈ (my-custom-nginx-proxy)
- β… μ •ν™•ν 2κ° νμΌ μƒμ„± κ²€μ¦

**μ£Όμ” κ°μ„ μ‚¬ν•­**:
1. **λ…μ‹μ  νλΌλ―Έν„°**: κΈ°λ³Έκ°’ μ κ±°λ΅ μ‹¤μ λ°©μ§€
2. **ν¬κ΄„μ  ν…μ¤νΈ**: λ¨λ“  κΈ°λ¥ μ‹λ‚λ¦¬μ¤ μ»¤λ²„
3. **λ…λ¦½μ  ν…μ¤νΈ**: κ° ν…μ¤νΈ μ¤μ„νΈ κ°λ³„ μ‹¤ν–‰ κ°€λ¥
4. **μƒμ„Έν• μ¤λ¥ λ³΄κ³ **: diff ν•μ‹μΌλ΅ μμƒ/μ‹¤μ  λΉ„κµ

**ν…μ¤νΈ μ‹¤ν–‰**:
```bash
npm test  # μ „μ²΄ ν…μ¤νΈ μ¤μ„νΈ
tsx src/test-cli-params.ts  # κ°λ³„ ν…μ¤νΈ
```

**λ‹¤μ λ‹¨κ³„**: λ¬Έμ„ μ™„μ„± ν›„ GitHub Action μ„¤μ •

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.1 μ™„μ„±**: ν•„μ νλΌλ―Έν„°, κ°•ν™”λ ν…μ¤νΈ (12κ° μΌ€μ΄μ¤)
> - **ν…μ¤νΈ μ¤μ„νΈ**: 4κ° λ…λ¦½ ν…μ¤νΈ, test-utils.ts κ³µμ 
> - **νλΌλ―Έν„° μ—†μ΄ μ‹¤ν–‰ λ¶κ°€**: λ¨λ“  νλΌλ―Έν„° λ…μ‹ ν•„μ
> - **κ°λ³„ ν…μ¤νΈ μ‹¤ν–‰**: `tsx src/test-*.ts`λ΅ κ° μ¤μ„νΈ μ‹¤ν–‰ κ°€λ¥
> - λ‹¤μμ€ GitHub Action μ„¤μ •

### 2025-12-26 - v2.0: κ³ κΈ‰ κΈ°λ¥ μ¶”κ°€ λ° ν…μ¤νΈ μ¤μ„νΈ κµ¬ν„

**μƒνƒ**: β… μ™„λ£ (v2.0)

**μ§„ν–‰ λ‚΄μ©**:
- **CLI νλΌλ―Έν„° μ¶”κ°€**: `--compose-path`, `--output-dir`, `--nginx-service`
- **κ²½λ΅ κ²€μ¦ κ°•ν™”**: compose.yaml, nginx/, nginx.conf μ΅΄μ¬ ν™•μΈ (μ•μ „ν• μ‚­μ  λ³΄μ¥)
- **μλ™ μƒμ„± μ£Όμ„**: λ¨λ“  .conf νμΌμ— μλ™ μƒμ„± κ²½κ³  ν—¤λ” μ¶”κ°€
- **x-monoserver-default-port**: κΈ°μ΅΄ x-monoserver-portμ—μ„ μ΄λ¦„ λ³€κ²½, μ„ νƒμ  ν•„λ“λ΅ λ³€κ²½
- **x-monoserver-listen-ports**: λ°°μ—΄λ΅ μ—¬λ¬ listen ν¬νΈ μ§€μ • κ°€λ¥
- **λ™μ  ν”„λ΅μ‹ λΌμ°ν…**: default-port μ—†μΌλ©΄ `$server_port` μ‚¬μ©
- **μ™„μ „ν• ν…μ¤νΈ μ¤μ„νΈ**: test/compose.yamlκ³Ό expected/ λ””λ ‰ν† λ¦¬λ΅ μλ™ κ²€μ¦

**ν…μ¤νΈ κ²°κ³Ό**:
- β… 4κ°€μ§€ μ‹λ‚λ¦¬μ¤ ν…μ¤νΈ ν†µκ³Ό
  - Full config (default port + listen ports)
  - Default port only
  - Listen ports only (dynamic routing)
  - Minimal config (all defaults)
- β… κ²½λ΅ κ²€μ¦ ν…μ¤νΈ ν†µκ³Ό
- β… CLI νλΌλ―Έν„° ν…μ¤νΈ ν†µκ³Ό

**μ£Όμ” κΈ°λ¥ (v2.0)**:
1. **μ μ—°ν• ν¬νΈ μ„¤μ •**:
   - `x-monoserver-default-port`: λ°±μ—”λ“ ν”„λ΅μ‹ ν¬νΈ (μ„ νƒμ )
   - `x-monoserver-listen-ports`: Nginx listen ν¬νΈ λ°°μ—΄ (κΈ°λ³Έκ°’: [80])
2. **λ™μ  λΌμ°ν…**: default port μ—†μΌλ©΄ ν΄λΌμ΄μ–ΈνΈ μ ‘μ† ν¬νΈλ΅ ν”„λ΅μ‹
3. **μ•μ „ν• μ‚­μ **: κ²½λ΅ κ²€μ¦μΌλ΅ μλ»λ λ””λ ‰ν† λ¦¬ μ‚­μ  λ°©μ§€
4. **νλΌλ―Έν„°ν™”**: λ¨λ“  κ²½λ΅μ™€ μ„λΉ„μ¤λ… μ»¤μ¤ν„°λ§μ΄μ¦ κ°€λ¥
5. **μλ™ κ²€μ¦**: npm testλ΅ μƒμ„± κ²°κ³Ό μλ™ λΉ„κµ

**ν”„λ΅μ νΈ κµ¬μ΅°**:
```
nginx-config-generator/
β”β”€β”€ src/
β”‚   β”β”€β”€ index.ts         # λ©”μΈ μƒμ„±κΈ° (CLI νλΌλ―Έν„°, κ²½λ΅ κ²€μ¦)
β”‚   β””β”€β”€ test-runner.ts   # ν…μ¤νΈ μ‹¤ν–‰κΈ°
β”β”€β”€ test/
β”‚   β”β”€β”€ compose.yaml     # ν…μ¤νΈ μ…λ ¥
β”‚   β”β”€β”€ nginx/nginx.conf # κ²€μ¦μ©
β”‚   β””β”€β”€ expected/        # μμƒ κ²°κ³Ό (4κ° νμΌ)
β”β”€β”€ package.json
β”β”€β”€ tsconfig.json
β””β”€β”€ README.md
```

**μ‚¬μ© λ°©λ²•**:
```bash
# κΈ°λ³Έ μ‚¬μ©
cd nginx-config-generator
npm install
npm run generate

# CLI νλΌλ―Έν„° μ‚¬μ©
tsx src/index.ts \
  --compose-path /path/to/compose.yaml \
  --output-dir /path/to/output \
  --nginx-service my-nginx

# ν…μ¤νΈ μ‹¤ν–‰
npm test
```

**compose.yaml μμ‹**:
```yaml
services:
  my-service:
    image: my-app
    x-monoserver-default-port: "3000"       # μ„ νƒμ 
    x-monoserver-listen-ports: [80, 8080]  # μ„ νƒμ 
```

**λ‹¤μ λ‹¨κ³„**: GitHub Action μ„¤μ •

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - **v2.0 μ™„μ„±**: CLI νλΌλ―Έν„°, κ²½λ΅ κ²€μ¦, λ™μ  λΌμ°ν…, ν…μ¤νΈ μ¤μ„νΈ λ¨λ‘ μ™„λ£
> - **ν•„λ“ λ³€κ²½**: `x-monoserver-port` β†’ `x-monoserver-default-port` (μ„ νƒμ )
> - **μ‹ κ· ν•„λ“**: `x-monoserver-listen-ports` (λ°°μ—΄, κΈ°λ³Έκ°’ [80])
> - **λ™μ  λΌμ°ν…**: default-port μ—†μΌλ©΄ `http://service:$server_port/` μ‚¬μ©
> - **ν…μ¤νΈ**: `npm test`λ΅ 4κ°€μ§€ μ‹λ‚λ¦¬μ¤ μλ™ κ²€μ¦
> - **CLI**: `--compose-path`, `--output-dir`, `--nginx-service` μµμ… μ‚¬μ© κ°€λ¥
> - λ‹¤μμ€ GitHub Action μ„¤μ •μΌλ΅ μ§„ν–‰ν•λ©΄ λ©λ‹λ‹¤

### 2025-12-26 - v1.0: μ΄κΈ° κµ¬ν„ μ™„λ£

**μƒνƒ**: π΅ μ¤€λΉ„μ¤‘ β†’ πΆ μ§„ν–‰μ¤‘ β†’ β… μ™„λ£ (v1.0)

**μ§„ν–‰ λ‚΄μ©**:
- `nginx-config-generator/` λ…λ¦½ ν”„λ΅μ νΈ μƒμ„± (ν‘μ¤€ TypeScript κµ¬μ΅°)
- ν”„λ΅μ νΈ κµ¬μ΅°:
  - `src/index.ts`: λ©”μΈ μƒμ„± μ¤ν¬λ¦½νΈ
  - `package.json`: js-yaml, tsx, TypeScript μμ΅΄μ„±
  - `tsconfig.json`: ES2022, ESNext λ¨λ“ μ„¤μ •
  - `README.md`: μ‚¬μ©λ²• λ° λ¬Έμ„ν™”
- js-yamlλ΅ compose.yaml νμ‹± κµ¬ν„
- monoserver-nginx-main μ„λΉ„μ¤ μλ™ μ μ™Έ
- x-monoserver-port ν•„λ“ κΈ°λ° μ„¤μ • μƒμ„±
- nginx/conf.d/ λ””λ ‰ν† λ¦¬ μλ™ μ •λ¦¬ λ° μ¬μƒμ„±
- hello μ„λΉ„μ¤λ΅ ν…μ¤νΈ μ™„λ£ (ν¬νΈ 5678)

**ν…μ¤νΈ κ²°κ³Ό**:
- β… compose.yaml νμ‹± μ„±κ³µ
- β… hello.conf μƒμ„± μ„±κ³µ
- β… μ¬λ°”λ¥Έ Nginx μ„¤μ • ν•μ‹ ν™•μΈ
- β… npm run test μ¤ν¬λ¦½νΈ λ™μ‘ ν™•μΈ

**μ£Όμ” κΈ°λ¥**:
1. compose.yamlμ—μ„ services μ½κΈ°
2. x-monoserver-port ν•„λ“κ°€ μλ” μ„λΉ„μ¤λ§ μ²λ¦¬
3. {service-name}.localhost μ„λΈλ„λ©”μΈ μλ™ μ„¤μ •
4. http://{service-name}:{port}/ ν”„λ΅μ‹ ν¨μ¤ μƒμ„±

**ν”„λ΅μ νΈ μ„μΉ**:
- `nginx-config-generator/` (ν”„λ΅μ νΈ λ£¨νΈμ— μ„μΉ)

**μ‚¬μ© λ°©λ²•**:
```bash
cd nginx-config-generator
npm install
npm run generate
```

### 2025-12-26 - μ΄κΈ° κ³„ν μλ¦½

**μƒνƒ**: π΅ μ¤€λΉ„μ¤‘ β†’ πΆ μ§„ν–‰μ¤‘

**μ§„ν–‰ λ‚΄μ©**:
- devlog μ‹μ¤ν… μ„¤κ³„ λ° λ¬Έμ„ μ‘μ„±
- μ”κµ¬μ‚¬ν•­ μ •λ¦¬ μ™„λ£
- compose.yaml κµ¬μ΅° ν™•μΈ

**λ‹¤μ λ‹¨κ³„**:
1. TypeScript μ¤ν¬λ¦½νΈ λΌλ€ μ‘μ„±
2. YAML νμ‹± ν…μ¤νΈ
3. ν…ν”λ¦Ώ μƒμ„± λ΅μ§ κµ¬ν„
4. λ΅μ»¬ ν…μ¤νΈ

**λΈ”λ΅μ»¤**: μ—†μ

---

> λ‹¤μ ν΄λ΅λ“ μ½”λ“μ—κ²:
> - compose.yamlμ ν„μ¬ κµ¬μ΅°λ¥Ό λ¨Όμ € ν™•μΈν•μ„Έμ”
> - ν…μ¤νΈλ” λ΅μ»¬μ—μ„ `tsx` μ‹¤ν–‰ν•΄λ³΄μ„Έμ”
